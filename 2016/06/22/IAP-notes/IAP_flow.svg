<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.37.20140115.0545 (20140115.0545)
 -->
<!-- Title: G Pages: 1 -->
<svg width="430pt" height="1272pt"
 viewBox="0.00 0.00 430.00 1272.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1268)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1268 426,-1268 426,4 -4,4"/>
<g id="clust1" class="cluster"><title>cluster0</title>
<polygon fill="lightyellow" stroke="lightyellow" points="8,-8 8,-1033 210,-1033 210,-8 8,-8"/>
<text text-anchor="middle" x="109" y="-1017.8" font-family="Times New Roman,serif" font-size="14.00">用户程序</text>
</g>
<g id="clust2" class="cluster"><title>cluster1</title>
<polygon fill="lightgray" stroke="lightgray" points="218,-496 218,-1256 402,-1256 402,-496 218,-496"/>
<text text-anchor="middle" x="310" y="-1240.8" font-family="Times New Roman,serif" font-size="14.00">bootloader程序</text>
</g>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<polygon fill="none" stroke="black" points="197,-1002 129,-1002 129,-966 197,-966 197,-1002"/>
<text text-anchor="middle" x="163" y="-980.3" font-family="Times New Roman,serif" font-size="14.00">用户程序</text>
</g>
<!-- getUpdateCmd -->
<g id="node2" class="node"><title>getUpdateCmd</title>
<polygon fill="none" stroke="black" points="102,-894 34,-856 102,-818 170,-856 102,-894"/>
<text text-anchor="middle" x="102" y="-859.8" font-family="Times New Roman,serif" font-size="14.00">接收到</text>
<text text-anchor="middle" x="102" y="-844.8" font-family="Times New Roman,serif" font-size="14.00">更新命令</text>
</g>
<!-- start&#45;&gt;getUpdateCmd -->
<g id="edge1" class="edge"><title>start&#45;&gt;getUpdateCmd</title>
<path fill="none" stroke="black" d="M146.623,-965.947C137.581,-955.68 126.831,-941.93 120,-928 115.847,-919.531 112.59,-910.01 110.058,-900.757"/>
<polygon fill="black" stroke="black" points="113.41,-899.735 107.586,-890.884 106.619,-901.434 113.41,-899.735"/>
</g>
<!-- getUpdateCmd&#45;&gt;start -->
<g id="edge2" class="edge"><title>getUpdateCmd&#45;&gt;start</title>
<path fill="none" stroke="black" d="M116.331,-886.602C126.617,-907.849 140.354,-936.224 150.258,-956.681"/>
<polygon fill="black" stroke="black" points="147.138,-958.269 154.646,-965.744 153.439,-955.219 147.138,-958.269"/>
<text text-anchor="middle" x="142" y="-916.3" font-family="Times New Roman,serif" font-size="14.00">N</text>
</g>
<!-- stopLidar -->
<g id="node3" class="node"><title>stopLidar</title>
<ellipse fill="none" stroke="black" cx="102" cy="-708" rx="50.3073" ry="37.4533"/>
<text text-anchor="middle" x="102" y="-719.3" font-family="Times New Roman,serif" font-size="14.00">停转雷达</text>
<text text-anchor="middle" x="102" y="-704.3" font-family="Times New Roman,serif" font-size="14.00">停止激光</text>
<text text-anchor="middle" x="102" y="-689.3" font-family="Times New Roman,serif" font-size="14.00">停止CCD</text>
</g>
<!-- getUpdateCmd&#45;&gt;stopLidar -->
<g id="edge3" class="edge"><title>getUpdateCmd&#45;&gt;stopLidar</title>
<path fill="none" stroke="black" d="M102,-817.78C102,-798.931 102,-775.853 102,-755.811"/>
<polygon fill="black" stroke="black" points="105.5,-755.646 102,-745.646 98.5001,-755.646 105.5,-755.646"/>
</g>
<!-- sendReadySignal -->
<g id="node4" class="node"><title>sendReadySignal</title>
<ellipse fill="none" stroke="black" cx="102" cy="-605" rx="63.5411" ry="18"/>
<text text-anchor="middle" x="102" y="-601.3" font-family="Times New Roman,serif" font-size="14.00">发送ready信号</text>
</g>
<!-- stopLidar&#45;&gt;sendReadySignal -->
<g id="edge4" class="edge"><title>stopLidar&#45;&gt;sendReadySignal</title>
<path fill="none" stroke="black" d="M102,-670.251C102,-658.026 102,-644.638 102,-633.262"/>
<polygon fill="black" stroke="black" points="105.5,-633.075 102,-623.075 98.5001,-633.075 105.5,-633.075"/>
</g>
<!-- getFirmwareData -->
<g id="node5" class="node"><title>getFirmwareData</title>
<ellipse fill="none" stroke="black" cx="102" cy="-522" rx="59.2173" ry="18"/>
<text text-anchor="middle" x="102" y="-518.3" font-family="Times New Roman,serif" font-size="14.00">接收firmware</text>
</g>
<!-- sendReadySignal&#45;&gt;getFirmwareData -->
<g id="edge5" class="edge"><title>sendReadySignal&#45;&gt;getFirmwareData</title>
<path fill="none" stroke="black" d="M102,-586.822C102,-576.19 102,-562.306 102,-550.204"/>
<polygon fill="black" stroke="black" points="105.5,-550.153 102,-540.153 98.5001,-550.153 105.5,-550.153"/>
</g>
<!-- writeFirmware -->
<g id="node6" class="node"><title>writeFirmware</title>
<ellipse fill="none" stroke="black" cx="99" cy="-439" rx="82.5969" ry="26.7407"/>
<text text-anchor="middle" x="99" y="-442.8" font-family="Times New Roman,serif" font-size="14.00">firmware写入flash</text>
<text text-anchor="middle" x="99" y="-427.8" font-family="Times New Roman,serif" font-size="14.00">空闲区</text>
</g>
<!-- getFirmwareData&#45;&gt;writeFirmware -->
<g id="edge6" class="edge"><title>getFirmwareData&#45;&gt;writeFirmware</title>
<path fill="none" stroke="black" d="M101.364,-503.822C101.066,-495.774 100.699,-485.861 100.343,-476.269"/>
<polygon fill="black" stroke="black" points="103.834,-475.952 99.9662,-466.089 96.8389,-476.211 103.834,-475.952"/>
</g>
<!-- sendRecievedSignal -->
<g id="node7" class="node"><title>sendRecievedSignal</title>
<ellipse fill="none" stroke="black" cx="107" cy="-342" rx="63.0666" ry="18"/>
<text text-anchor="middle" x="107" y="-338.3" font-family="Times New Roman,serif" font-size="14.00">发送ACK信号</text>
</g>
<!-- writeFirmware&#45;&gt;sendRecievedSignal -->
<g id="edge7" class="edge"><title>writeFirmware&#45;&gt;sendRecievedSignal</title>
<path fill="none" stroke="black" d="M101.186,-412.041C102.27,-399.165 103.58,-383.61 104.682,-370.527"/>
<polygon fill="black" stroke="black" points="108.197,-370.49 105.549,-360.231 101.222,-369.902 108.197,-370.49"/>
</g>
<!-- IsFirmwareComplete -->
<g id="node8" class="node"><title>IsFirmwareComplete</title>
<polygon fill="none" stroke="black" points="111,-286 20,-248 111,-210 202,-248 111,-286"/>
<text text-anchor="middle" x="111" y="-251.8" font-family="Times New Roman,serif" font-size="14.00">firmware接收</text>
<text text-anchor="middle" x="111" y="-236.8" font-family="Times New Roman,serif" font-size="14.00">完毕？</text>
</g>
<!-- sendRecievedSignal&#45;&gt;IsFirmwareComplete -->
<g id="edge8" class="edge"><title>sendRecievedSignal&#45;&gt;IsFirmwareComplete</title>
<path fill="none" stroke="black" d="M107.752,-323.696C108.098,-315.737 108.527,-305.871 108.959,-295.947"/>
<polygon fill="black" stroke="black" points="112.468,-295.803 109.406,-285.66 105.475,-295.499 112.468,-295.803"/>
</g>
<!-- IsFirmwareComplete&#45;&gt;getFirmwareData -->
<g id="edge9" class="edge"><title>IsFirmwareComplete&#45;&gt;getFirmwareData</title>
<path fill="none" stroke="black" d="M140.732,-273.782C154.708,-287.155 170.2,-304.833 179,-324 181.511,-329.468 202.272,-443.859 190,-466 180.947,-482.334 164.798,-494.458 148.783,-503.103"/>
<polygon fill="black" stroke="black" points="146.794,-500.185 139.424,-507.796 149.932,-506.442 146.794,-500.185"/>
<text text-anchor="middle" x="196" y="-382.3" font-family="Times New Roman,serif" font-size="14.00">N</text>
</g>
<!-- setUpdateFlag -->
<g id="node10" class="node"><title>setUpdateFlag</title>
<ellipse fill="none" stroke="black" cx="129" cy="-131" rx="55.2317" ry="26.7407"/>
<text text-anchor="middle" x="129" y="-134.8" font-family="Times New Roman,serif" font-size="14.00">updateFlag</text>
<text text-anchor="middle" x="129" y="-119.8" font-family="Times New Roman,serif" font-size="14.00">置位</text>
</g>
<!-- IsFirmwareComplete&#45;&gt;setUpdateFlag -->
<g id="edge10" class="edge"><title>IsFirmwareComplete&#45;&gt;setUpdateFlag</title>
<path fill="none" stroke="black" d="M116.449,-212.184C118.626,-198.277 121.133,-182.26 123.331,-168.217"/>
<polygon fill="black" stroke="black" points="126.853,-168.35 124.942,-157.929 119.937,-167.268 126.853,-168.35"/>
<text text-anchor="middle" x="127" y="-180.3" font-family="Times New Roman,serif" font-size="14.00">Y</text>
</g>
<!-- rebootSystem -->
<g id="node9" class="node"><title>rebootSystem</title>
<ellipse fill="none" stroke="black" cx="158" cy="-34" rx="44.2946" ry="18"/>
<text text-anchor="middle" x="158" y="-30.3" font-family="Times New Roman,serif" font-size="14.00">重启系统</text>
</g>
<!-- enterBootloader -->
<g id="node11" class="node"><title>enterBootloader</title>
<ellipse fill="none" stroke="black" cx="310" cy="-1207" rx="83.2892" ry="18"/>
<text text-anchor="middle" x="310" y="-1203.3" font-family="Times New Roman,serif" font-size="14.00">进入bootloader程序</text>
</g>
<!-- rebootSystem&#45;&gt;enterBootloader -->
<g id="edge12" class="edge"><title>rebootSystem&#45;&gt;enterBootloader</title>
<path fill="none" stroke="black" d="M198.671,-40.9816C272.726,-53.025 422,-83.1161 422,-130 422,-1114 422,-1114 422,-1114 422,-1148.32 390.209,-1172.19 360.502,-1186.99"/>
<polygon fill="black" stroke="black" points="358.933,-1183.86 351.386,-1191.3 361.923,-1190.19 358.933,-1183.86"/>
</g>
<!-- setUpdateFlag&#45;&gt;rebootSystem -->
<g id="edge11" class="edge"><title>setUpdateFlag&#45;&gt;rebootSystem</title>
<path fill="none" stroke="black" d="M136.924,-104.041C140.921,-90.9495 145.762,-75.0887 149.797,-61.8721"/>
<polygon fill="black" stroke="black" points="153.256,-62.5292 152.828,-51.943 146.561,-60.4854 153.256,-62.5292"/>
<text text-anchor="middle" x="152" y="-74.3" font-family="Times New Roman,serif" font-size="14.00">Y</text>
</g>
<!-- checkUpdateFlag -->
<g id="node12" class="node"><title>checkUpdateFlag</title>
<polygon fill="none" stroke="black" points="307,-1151 227,-1113 307,-1075 387,-1113 307,-1151"/>
<text text-anchor="middle" x="307" y="-1116.8" font-family="Times New Roman,serif" font-size="14.00">updateFlag</text>
<text text-anchor="middle" x="307" y="-1101.8" font-family="Times New Roman,serif" font-size="14.00">是否置位？</text>
</g>
<!-- enterBootloader&#45;&gt;checkUpdateFlag -->
<g id="edge13" class="edge"><title>enterBootloader&#45;&gt;checkUpdateFlag</title>
<path fill="none" stroke="black" d="M309.436,-1188.7C309.176,-1180.74 308.855,-1170.87 308.531,-1160.95"/>
<polygon fill="black" stroke="black" points="312.02,-1160.54 308.195,-1150.66 305.023,-1160.77 312.02,-1160.54"/>
</g>
<!-- checkUpdateFlag&#45;&gt;start -->
<g id="edge14" class="edge"><title>checkUpdateFlag&#45;&gt;start</title>
<path fill="none" stroke="black" d="M278.185,-1088.17C259.649,-1072.68 235.161,-1051.92 214,-1033 205.483,-1025.38 196.347,-1016.89 188.194,-1009.19"/>
<polygon fill="black" stroke="black" points="190.393,-1006.45 180.731,-1002.11 185.574,-1011.53 190.393,-1006.45"/>
<text text-anchor="middle" x="245" y="-1045.3" font-family="Times New Roman,serif" font-size="14.00">N</text>
</g>
<!-- crc -->
<g id="node15" class="node"><title>crc</title>
<polygon fill="none" stroke="black" points="307,-1022 236,-984 307,-946 378,-984 307,-1022"/>
<text text-anchor="middle" x="307" y="-987.8" font-family="Times New Roman,serif" font-size="14.00">CRC校验</text>
<text text-anchor="middle" x="307" y="-972.8" font-family="Times New Roman,serif" font-size="14.00">是否成功</text>
</g>
<!-- checkUpdateFlag&#45;&gt;crc -->
<g id="edge15" class="edge"><title>checkUpdateFlag&#45;&gt;crc</title>
<path fill="none" stroke="black" d="M307,-1074.92C307,-1061.61 307,-1046.41 307,-1032.34"/>
<polygon fill="black" stroke="black" points="310.5,-1032.34 307,-1022.34 303.5,-1032.34 310.5,-1032.34"/>
<text text-anchor="middle" x="312" y="-1045.3" font-family="Times New Roman,serif" font-size="14.00">Y</text>
</g>
<!-- flashApp -->
<g id="node13" class="node"><title>flashApp</title>
<ellipse fill="none" stroke="black" cx="312" cy="-605" rx="66.2022" ry="26.7407"/>
<text text-anchor="middle" x="312" y="-608.8" font-family="Times New Roman,serif" font-size="14.00">将APP内容烧</text>
<text text-anchor="middle" x="312" y="-593.8" font-family="Times New Roman,serif" font-size="14.00">录到APP区</text>
</g>
<!-- ResetUpdateFlag -->
<g id="node17" class="node"><title>ResetUpdateFlag</title>
<ellipse fill="none" stroke="black" cx="294" cy="-522" rx="67.3907" ry="18"/>
<text text-anchor="middle" x="294" y="-518.3" font-family="Times New Roman,serif" font-size="14.00">复位updateFlag</text>
</g>
<!-- flashApp&#45;&gt;ResetUpdateFlag -->
<g id="edge22" class="edge"><title>flashApp&#45;&gt;ResetUpdateFlag</title>
<path fill="none" stroke="black" d="M306.206,-577.925C304.226,-569.017 302.008,-559.037 300.012,-550.053"/>
<polygon fill="black" stroke="black" points="303.383,-549.091 297.797,-540.088 296.55,-550.609 303.383,-549.091"/>
</g>
<!-- isEncryption -->
<g id="node14" class="node"><title>isEncryption</title>
<polygon fill="none" stroke="black" points="320,-874 246.701,-856 320,-838 393.299,-856 320,-874"/>
<text text-anchor="middle" x="320" y="-852.3" font-family="Times New Roman,serif" font-size="14.00">是否加密？</text>
</g>
<!-- isEncryption&#45;&gt;flashApp -->
<g id="edge20" class="edge"><title>isEncryption&#45;&gt;flashApp</title>
<path fill="none" stroke="black" d="M331.513,-840.575C345.439,-821.264 364.922,-786.804 347,-764 326.085,-737.387 293.915,-772.613 273,-746 248.735,-715.125 268.389,-670.046 287.529,-639.445"/>
<polygon fill="black" stroke="black" points="290.613,-641.123 293.139,-630.834 284.748,-637.302 290.613,-641.123"/>
<text text-anchor="middle" x="278" y="-704.3" font-family="Times New Roman,serif" font-size="14.00">N</text>
</g>
<!-- Decyrption -->
<g id="node18" class="node"><title>Decyrption</title>
<ellipse fill="none" stroke="black" cx="343" cy="-708" rx="51.0191" ry="18"/>
<text text-anchor="middle" x="343" y="-704.3" font-family="Times New Roman,serif" font-size="14.00">Decyrption</text>
</g>
<!-- isEncryption&#45;&gt;Decyrption -->
<g id="edge19" class="edge"><title>isEncryption&#45;&gt;Decyrption</title>
<path fill="none" stroke="black" d="M331.97,-840.668C339.939,-830.149 349.704,-815.118 354,-800 359.991,-778.916 356.351,-754.178 351.709,-735.82"/>
<polygon fill="black" stroke="black" points="355.054,-734.782 349.005,-726.084 348.309,-736.656 355.054,-734.782"/>
<text text-anchor="middle" x="363" y="-778.3" font-family="Times New Roman,serif" font-size="14.00">Y</text>
</g>
<!-- crc&#45;&gt;isEncryption -->
<g id="edge16" class="edge"><title>crc&#45;&gt;isEncryption</title>
<path fill="none" stroke="black" d="M310.621,-947.902C312.706,-927.693 315.287,-902.684 317.213,-884.016"/>
<polygon fill="black" stroke="black" points="320.717,-884.148 318.262,-873.842 313.754,-883.43 320.717,-884.148"/>
<text text-anchor="middle" x="320" y="-916.3" font-family="Times New Roman,serif" font-size="14.00">Y</text>
</g>
<!-- sendCrcFailSignal -->
<g id="node16" class="node"><title>sendCrcFailSignal</title>
<ellipse fill="none" stroke="black" cx="286" cy="-782" rx="60.1672" ry="18"/>
<text text-anchor="middle" x="286" y="-778.3" font-family="Times New Roman,serif" font-size="14.00">报告校验失败</text>
</g>
<!-- crc&#45;&gt;sendCrcFailSignal -->
<g id="edge17" class="edge"><title>crc&#45;&gt;sendCrcFailSignal</title>
<path fill="none" stroke="black" d="M281.396,-959.683C265.237,-943.149 245.809,-919.45 237,-894 225.951,-862.08 221.544,-848.034 237,-818 239.727,-812.7 243.671,-808.025 248.152,-803.959"/>
<polygon fill="black" stroke="black" points="250.41,-806.636 256.085,-797.689 246.069,-801.144 250.41,-806.636"/>
<text text-anchor="middle" x="260" y="-916.3" font-family="Times New Roman,serif" font-size="14.00">N</text>
</g>
<!-- sendCrcFailSignal&#45;&gt;start -->
<g id="edge18" class="edge"><title>sendCrcFailSignal&#45;&gt;start</title>
<path fill="none" stroke="black" d="M251.087,-796.732C240.931,-802.107 230.552,-809.147 223,-818 188.58,-858.351 173.231,-920.076 166.93,-955.478"/>
<polygon fill="black" stroke="black" points="163.44,-955.129 165.254,-965.567 170.345,-956.276 163.44,-955.129"/>
</g>
<!-- sendCrcFailSignal&#45;&gt;ResetUpdateFlag -->
<g id="edge23" class="edge"><title>sendCrcFailSignal&#45;&gt;ResetUpdateFlag</title>
<path fill="none" stroke="black" d="M269.911,-764.329C265.427,-758.864 260.974,-752.512 258,-746 226.737,-677.554 207.584,-647.26 237,-578 242.302,-565.516 251.98,-554.487 261.875,-545.646"/>
<polygon fill="black" stroke="black" points="264.351,-548.138 269.777,-539.038 259.86,-542.768 264.351,-548.138"/>
</g>
<!-- ResetUpdateFlag&#45;&gt;rebootSystem -->
<g id="edge24" class="edge"><title>ResetUpdateFlag&#45;&gt;rebootSystem</title>
<path fill="none" stroke="black" d="M282.987,-504.068C273.731,-488.187 262,-463.436 262,-440 262,-440 262,-440 262,-130 262,-93.5905 226.822,-67.3984 197.385,-51.8544"/>
<polygon fill="black" stroke="black" points="198.588,-48.5421 188.081,-47.1823 195.447,-54.7977 198.588,-48.5421"/>
</g>
<!-- Decyrption&#45;&gt;flashApp -->
<g id="edge21" class="edge"><title>Decyrption&#45;&gt;flashApp</title>
<path fill="none" stroke="black" d="M337.741,-689.867C333.707,-676.723 327.998,-658.122 322.981,-641.776"/>
<polygon fill="black" stroke="black" points="326.248,-640.492 319.968,-631.959 319.556,-642.546 326.248,-640.492"/>
</g>
</g>
</svg>
